import finalprojectfop.gfx.ImageLoader;
import javax.imageio.ImageIO;
import java.io.IOException;
import javax.swing.JPanel;
import java.awt.*;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.awt.image.BufferedImage;
import java.util.Random;
import javax.swing.Timer;

public class ArmouredTitan {
    private Weapon wallweapon = new Weapon(1);
    //Coordinate x
    private int titanImagexpos = 0;
    //Coordinate y
    private int [] titanImageypos = {0, 1, 2, 3, 4, 5, 6, 7, 8, 9};

    private Random random = new Random();
    
    private int xpos=0;
    private int ypos;

    private BufferedImage titanImage;
    private int hpTitan = 100;
    private Hour hour;
    private final Timer timer;
    private final int delay = 1000; //1 hour = 1 sec = 1000 milliseconds (can change)

    public ArmouredTitan(){

    ActionListener taskPerformer = (ActionEvent evt) -> {
        
        //to appear after 5 hours and after player's turn
        if (Hour.getHour() >=5 && (Hour.getHour() %2 != 0))
            xpos++; 
                    
        if (Hour.getHour() >=5 && (Hour.getHour() %2 != 0)) {
            ypos = random.nextInt(9);
            
            if(hpTitan <=0) {
                gettitanDieImage();
            }else {
                gettitanImage();
            }
        } else {
            //player code
        }
    };

            timer = new Timer(delay, taskPerformer);
            timer.start();
    }
    

    //to show image
    public void render(Graphics g) {
        Font fnt = new Font("consolas", Font.BOLD, 10);
        g.setFont(fnt);
        g.setColor(Color.white);
        g.drawImage(titanImage, xpos*50, ypos*50, null);
    }
    
    
    public BufferedImage gettitanImage() {
        titanImage = ImageLoader.loadImage("/images/");
        return titanImage;
    }
    
    public BufferedImage gettitanDieImage() {
        titanImage = ImageLoader.loadImage("/images/");
        return titanImage;
    }
